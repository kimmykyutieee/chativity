{% extends "sidebar.html" %}
{% block content %}
<h2>Group: {{ group.name }}</h2>
<p>Group Code: <strong>{{ group.code }}</strong></p>

{% if group.created_by == session.get('user_id') %}
<form action="{{ url_for('group_bp.delete_group', group_id=group.id) }}" method="POST" style="margin-bottom:10px;">
    <button type="submit" onclick="return confirm('Are you sure you want to delete this group?');">Delete Group</button>
</form>
{% endif %}

<div style="border:1px solid #ccc;padding:10px;height:300px;overflow-y:auto">
    {% for msg in messages %}
    <p><strong>{{ msg.sender_name }}:</strong> {{ msg.message }}</p>
    {% endfor %}
</div>

<form method="POST" style="margin-top:10px">
    <input type="text" name="message" placeholder="Type a message..." required>
    <button type="submit">Send</button>
</form>

<h3>Members</h3>
<ul>
{% for m in members %}
    <li>{{ m.name }}</li>
{% endfor %}
</ul>

<a href="{{ url_for('task_bp.new_task_group', group_id=group.id) }}">Add Task to Group</a>

{% endblock %}
