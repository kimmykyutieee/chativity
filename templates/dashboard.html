{% extends "sidebar.html" %}

{% block content %}
<div class="dashboard-wrapper">

    <!-- Header -->
    <div class="dashboard-header">
        <div>
            <h1>Welcome back, {{ user_name }}</h1>
            <p>Hereâ€™s a quick overview of your tasks and activities today.</p>
        </div>
        <div class="header-avatar">{{ user_name[0]|upper }}</div>
    </div>

    <!-- Stats -->
    <div class="stats-container">
        <div class="stat-box">
            <h2>{{ stats.total }}</h2>
            <p>Total Tasks</p>
        </div>
        <div class="stat-box">
            <h2>{{ stats.completed }}</h2>
            <p>Completed</p>
        </div>
        <div class="stat-box">
            <h2>{{ stats.overdue }}</h2>
            <p>Overdue</p>
        </div>
        <div class="stat-box">
            <h2>{{ stats.in_progress }}</h2>
            <p>In Progress</p>
        </div>
    </div>

    <!-- Main Content -->
    <div class="content-grid">

        <!-- Tasks Section -->
        <div class="tasks-container">
            <h3>Recent Tasks</h3>
            {% for task in recent_tasks %}
            <div class="task-item">
                <h4>{{ task.title }}</h4>
                <p class="task-deadline">Due: {{ task.due_date.strftime('%B %d, %Y') }}</p>
                <div class="task-actions">
                    <a href="{{ url_for('task_bp.task_list', task_id=task.id) }}">
                        <button>View</button>
                    </a>
                </div>
            </div>
            {% endfor %}
        </div>

        <!-- Calendar Section -->
        <div class="calendar-container">
            <h3>Calendar Overview</h3>
            <div class="calendar-box">
                Calendar widget coming soon...
            </div>
        </div>

    </div>
</div>
{% endblock %}
